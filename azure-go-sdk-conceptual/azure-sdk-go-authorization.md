---
title: Hitelesítés a Góhoz készült Azure SDK-val
description: Ismerje meg a Góhoz készült Azure SDK-ban elérhető hitelesítési módszereket, és azok használatát.
services: azure
author: sptramer
ms.author: sttramer
manager: carmonm
ms.date: 09/05/2018
ms.topic: conceptual
ms.technology: azure-sdk-go
ms.devlang: go
ms.component: authentication
ms.openlocfilehash: f5c2c56e43828f0bedad0b5781dc71991ce1fd3e
ms.sourcegitcommit: 172f81dd6e4c6a275dc8031815aa87cdb488cbf0
ms.translationtype: HT
ms.contentlocale: hu-HU
ms.lasthandoff: 09/26/2018
ms.locfileid: "47231675"
---
# <a name="authentication-methods-in-the-azure-sdk-for-go"></a><span data-ttu-id="ab7d3-103">Hitelesítési módszerek a Góhoz készült Azure SDK-ban</span><span class="sxs-lookup"><span data-stu-id="ab7d3-103">Authentication methods in the Azure SDK for Go</span></span>

<span data-ttu-id="ab7d3-104">A Góhoz készült Azure SDK több módszert is kínál az Azure-ral való hitelesítésre.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-104">The Azure SDK for Go offers multiple ways to authenticate with Azure.</span></span> <span data-ttu-id="ab7d3-105">Ezeket a hitelesítési _típusokat_ különböző hitelesítési _módszerekkel_ lehet meghívni.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-105">These authentication _types_ are invoked through different authentication _methods_.</span></span> <span data-ttu-id="ab7d3-106">Ez a cikk ismerteti az elérhető típusokat és módszereket, valamint azt is, hogy hogyan választhatja ki, melyek a legjobbak az alkalmazás számára.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-106">This article covers the available types, methods, and how to choose which are best for your application.</span></span>

## <a name="available-authentication-types-and-methods"></a><span data-ttu-id="ab7d3-107">Az elérhető hitelesítési típusok és módszerek</span><span class="sxs-lookup"><span data-stu-id="ab7d3-107">Available authentication types and methods</span></span>

<span data-ttu-id="ab7d3-108">A Góhoz készült Azure SDK számos hitelesítési típust kínál, amelyek eltérő hitelesítőadat-készleteket használnak.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-108">The Azure SDK for Go offers several different types of authentication, using different credentials sets.</span></span> <span data-ttu-id="ab7d3-109">Mindegyik hitelesítési típust különböző hitelesítési módszerekkel lehet elérni, amelyek azt határozzák meg, hogy hogyan fogadja az SDK a hitelesítő adatokat bemeneti adatként.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-109">Each authentication type is available through different authentication methods, which are how the SDK takes these credentials as input.</span></span> <span data-ttu-id="ab7d3-110">A következő táblázat ismerteti az elérhető hitelesítési típusokat és azokat a helyzeteket, amikor az alkalmazásnak érdemes használnia őket.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-110">The following table describes the available types of authentication and situations in which they're recommended for use by your application.</span></span>

| <span data-ttu-id="ab7d3-111">Hitelesítés típusa</span><span class="sxs-lookup"><span data-stu-id="ab7d3-111">Authentication type</span></span> | <span data-ttu-id="ab7d3-112">Ajánlott, amikor...</span><span class="sxs-lookup"><span data-stu-id="ab7d3-112">Recommended when...</span></span> |
|---------------------|---------------------|
| <span data-ttu-id="ab7d3-113">Tanúsítványalapú hitelesítés</span><span class="sxs-lookup"><span data-stu-id="ab7d3-113">Certificate-based authentication</span></span> | <span data-ttu-id="ab7d3-114">Egy X509 tanúsítvánnyal rendelkezik, amelyet egy Azure Active Directory-felhasználóhoz (AAD) vagy szolgáltatásnévhez konfiguráltak.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-114">You have an X509 certificate that was configured for an Azure Active Directory (AAD) user or service principal.</span></span> <span data-ttu-id="ab7d3-115">További tudnivalókért lásd: [A tanúsítványalapú hitelesítés első lépései az Azure Active Directoryban].</span><span class="sxs-lookup"><span data-stu-id="ab7d3-115">To learn more, see [Get started with certificate-based authentication in Azure Active Directory].</span></span> |
| <span data-ttu-id="ab7d3-116">Ügyfél-hitelesítő adatok</span><span class="sxs-lookup"><span data-stu-id="ab7d3-116">Client credentials</span></span> | <span data-ttu-id="ab7d3-117">Egy konfigurált szolgáltatásnévvel rendelkezik, amelyet ehhez az alkalmazáshoz vagy az alkalmazásosztályához állítottak be.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-117">You have a configured service principal that is set up for this application or a class of applications it belongs to.</span></span> <span data-ttu-id="ab7d3-118">További tudnivalókért lásd: [Szolgáltatásnév létrehozása az Azure CLI-vel].</span><span class="sxs-lookup"><span data-stu-id="ab7d3-118">To learn more, see [Create a service principal with Azure CLI].</span></span> |
| <span data-ttu-id="ab7d3-119">Azure-erőforrások felügyelt identitásai</span><span class="sxs-lookup"><span data-stu-id="ab7d3-119">Managed identities for Azure resources</span></span> | <span data-ttu-id="ab7d3-120">Az alkalmazás egy olyan Azure-erőforráson fut, amelyet egy felügyelt identitással konfiguráltak.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-120">Your application is running on an Azure resource that has been configured with a managed identity.</span></span> <span data-ttu-id="ab7d3-121">További tudnivalókért lásd [Azure-erőforrások felügyelt identitásai].</span><span class="sxs-lookup"><span data-stu-id="ab7d3-121">To learn more, see [Managed identities for Azure resources].</span></span> |
| <span data-ttu-id="ab7d3-122">Eszközjogkivonat</span><span class="sxs-lookup"><span data-stu-id="ab7d3-122">Device token</span></span> | <span data-ttu-id="ab7d3-123">Az alkalmazást __kizárólag__ interaktív használatra szánták.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-123">Your application is meant to be used interactively __only__.</span></span> <span data-ttu-id="ab7d3-124">A felhasználóknál engedélyezve lehet a többtényezős hitelesítés.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-124">Users may have multi-factor authentication enabled.</span></span> <span data-ttu-id="ab7d3-125">A felhasználók hozzáféréssel rendelkeznek egy webböngészőhöz, amelyen keresztül be tudnak jelentkezni.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-125">Users have access to a web browser to sign in.</span></span> <span data-ttu-id="ab7d3-126">További információkért lásd: [Az eszközjogkivonattal történő hitelesítés használata](#use-device-token-authentication).</span><span class="sxs-lookup"><span data-stu-id="ab7d3-126">For more information, see [Use device token authentication](#use-device-token-authentication).</span></span>|
| <span data-ttu-id="ab7d3-127">Felhasználónév/jelszó</span><span class="sxs-lookup"><span data-stu-id="ab7d3-127">Username/password</span></span> | <span data-ttu-id="ab7d3-128">Van egy interaktív alkalmazása, amely nem használhat más hitelesítési módszert.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-128">You have an interactive application that can't use any other authentication method.</span></span> <span data-ttu-id="ab7d3-129">A felhasználók AAD-bejelentkezéséhez nincs engedélyezve a többtényezős hitelesítés.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-129">Your users don't have multi-factor authentication enabled for their AAD sign-in.</span></span> |

> [!IMPORTANT]
> <span data-ttu-id="ab7d3-130">Ha nem az ügyfél-hitelesítő adatok hitelesítési típust használja, az alkalmazást regisztrálni kell az Azure Active Directoryban.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-130">If you use an authentication type other than client credentials, your application must be registered in Azure Active Directory.</span></span> <span data-ttu-id="ab7d3-131">Az eljárás leírásáért lásd: [Alkalmazások integrálása az Azure Active Directoryval](/azure/active-directory/develop/active-directory-integrating-applications).</span><span class="sxs-lookup"><span data-stu-id="ab7d3-131">To learn how, see [Integrating applications with Azure Active Directory](/azure/active-directory/develop/active-directory-integrating-applications).</span></span>
>
> [!NOTE]
> <span data-ttu-id="ab7d3-132">Hacsak nem állnak fenn különleges követelmények, kerülje a felhasználónév- és jelszóalapú hitelesítést.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-132">Unless you have special requirements, avoid username/password authentication.</span></span> <span data-ttu-id="ab7d3-133">Azokban az esetekben, amikor a felhasználóalapú bejelentkezés megfelelő megoldásnak számít, általában használni lehet helyette az eszközjogkivonattal történő hitelesítést.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-133">In situations where user-based sign in is appropriate, device token authentication can usually be used instead.</span></span>

[A tanúsítványalapú hitelesítés első lépései az Azure Active Directoryban]: /azure/active-directory/active-directory-certificate-based-authentication-get-started
[Get started with certificate-based authentication in Azure Active Directory]: /azure/active-directory/active-directory-certificate-based-authentication-get-started
[Szolgáltatásnév létrehozása az Azure CLI-vel]: /cli/azure/create-an-azure-service-principal-azure-cli
[Create a service principal with Azure CLI]: /cli/azure/create-an-azure-service-principal-azure-cli
[Azure-erőforrások felügyelt identitásai]: /azure/active-directory/managed-identities-azure-resources/overview
[Managed identities for Azure resources]: /azure/active-directory/managed-identities-azure-resources/overview

<span data-ttu-id="ab7d3-137">Ezeket a hitelesítési típusokat különböző módszerekkel lehet elérni.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-137">These authentication types are available through different methods.</span></span>

* <span data-ttu-id="ab7d3-138">A [_környezetalapú hitelesítés_](#use-environment-based-authentication) közvetlenül a program környezetéből olvassa be a hitelesítő adatokat.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-138">[_Environment-based authentication_](#use-environment-based-authentication) reads credentials directly from the program's environment.</span></span>
* <span data-ttu-id="ab7d3-139">A [_fájlalapú hitelesítés_](#use-file-based-authentication) betölt egy fájlt, amely a szolgáltatásnév hitelesítő adatait tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-139">[_File-based authentication_](#use-file-based-authentication) loads a file containing service principal credentials.</span></span>
* <span data-ttu-id="ab7d3-140">Az [_ügyfélalapú hitelesítés_](#use-an-authentication-client) a kód egyik objektumát használja, és a felhasználóra bízza a hitelesítőadatok megadását a program végrehajtásakor.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-140">[_Client-based authentication_](#use-an-authentication-client) uses an object in code and makes you responsible for providing the credentials during program execution.</span></span>
* <span data-ttu-id="ab7d3-141">Az [_eszközjogkivonattal történő hitelesítés_](#use-device-token-authentication) esetén a felhasználóknak interaktív módon kell bejelentkezniük egy webböngészőn keresztül, egy jogkivonat segítségével.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-141">[_Device token authentication_](#use-device-token-authentication) requires users to sign in interactively through a web browser with a token.</span></span>

<span data-ttu-id="ab7d3-142">A `github.com/Azure/go-autorest/autorest/azure/auth` csomagban az összes hitelesítési funkció és típus megtalálható.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-142">All authentication functions and types are available in the `github.com/Azure/go-autorest/autorest/azure/auth` package.</span></span>

> [!NOTE]
> <span data-ttu-id="ab7d3-143">Ha nincsenek különleges követelmények, kerülje az ügyfélalapú hitelesítést.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-143">Unless you have special requirements, avoid client-based authentication.</span></span> <span data-ttu-id="ab7d3-144">Ez a hitelesítési módszer támogatja a helytelen gyakorlatok alkalmazását.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-144">This method of authentication encourages bad practices.</span></span> <span data-ttu-id="ab7d3-145">A hitelesítő adatok szoftveres rögzítése például különösen az ügyfélalapú hitelesítés használata során vonzó lehetőség.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-145">In particular, using client-based authentication makes it tempting to hard-code credentials.</span></span> <span data-ttu-id="ab7d3-146">Az egyedi kód írása a hitelesítéshez szintén értelmét vesztheti a jövőbeli SDK kiadásoknál, ha megváltoznak a hitelesítési követelmények.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-146">Writing custom code for authentication may also break under future SDK releases if authentication requirements change.</span></span>

## <a name="use-environment-based-authentication"></a><span data-ttu-id="ab7d3-147">A környezetalapú hitelesítés használata</span><span class="sxs-lookup"><span data-stu-id="ab7d3-147">Use environment-based authentication</span></span>

<span data-ttu-id="ab7d3-148">Ha egy ellenőrzött környezetben futtatja az alkalmazást, a környezetalapú hitelesítés kézenfekvő lehet.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-148">If you're running your application in a controlled setting, environment-based authentication is a natural choice.</span></span> <span data-ttu-id="ab7d3-149">Ezzel a hitelesítési módszerrel az alkalmazás futtatása előtt konfigurálja a rendszerhéj-környezetet.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-149">With this authentication method, you configure the shell environment before running your application.</span></span> <span data-ttu-id="ab7d3-150">A Go SDK pedig a futtatáskor beolvassa ezeket a környezeti változókat az Azure-hitelesítéshez.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-150">At runtime, the Go SDK reads these environment variables to authenticate with Azure.</span></span>

<span data-ttu-id="ab7d3-151">A környezetalapú hitelesítés az eszközjogkivonatok kivételével az összes hitelesítési módszert támogatja, és a következő sorrendben értékeli ki őket:</span><span class="sxs-lookup"><span data-stu-id="ab7d3-151">Environment-based authentication has support for all authentication methods except device tokens, evaluated in the following order:</span></span>

* <span data-ttu-id="ab7d3-152">Ügyfél-hitelesítő adatok</span><span class="sxs-lookup"><span data-stu-id="ab7d3-152">Client credentials</span></span>
* <span data-ttu-id="ab7d3-153">X509 tanúsítványok</span><span class="sxs-lookup"><span data-stu-id="ab7d3-153">X509 certificates</span></span>
* <span data-ttu-id="ab7d3-154">Felhasználónév/jelszó</span><span class="sxs-lookup"><span data-stu-id="ab7d3-154">Username/password</span></span>
* <span data-ttu-id="ab7d3-155">Azure-erőforrások felügyelt identitásai</span><span class="sxs-lookup"><span data-stu-id="ab7d3-155">Managed identities for Azure resources</span></span>

<span data-ttu-id="ab7d3-156">Ha a hitelesítés típusánál nincs beállított érték, vagy a rendszer elutasította, akkor az SDK automatikusan a következő hitelesítési típussal próbálkozik.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-156">If an authentication type has unset values or is refused, the SDK automatically tries the next authentication type.</span></span> <span data-ttu-id="ab7d3-157">Ha nincs több típus, amivel próbálkozhat, akkor az SDK hibaüzenetet jelenít meg.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-157">When no more types are available to try, the SDK returns an error.</span></span>

<span data-ttu-id="ab7d3-158">Az alábbi táblázat azokat a környezeti változókat ismerteti, amelyeket be kell állítani a környezetalapú hitelesítés által támogatott hitelesítési típusokhoz.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-158">The following table details the environment variables that need to be set for each authentication type supported by environment-based authentication.</span></span>

| <span data-ttu-id="ab7d3-159">Hitelesítés típusa</span><span class="sxs-lookup"><span data-stu-id="ab7d3-159">Authentication type</span></span> | <span data-ttu-id="ab7d3-160">Környezeti változó</span><span class="sxs-lookup"><span data-stu-id="ab7d3-160">Environment variable</span></span> | <span data-ttu-id="ab7d3-161">Leírás</span><span class="sxs-lookup"><span data-stu-id="ab7d3-161">Description</span></span> |
| ------------------- | -------------------- | ----------- |
| <span data-ttu-id="ab7d3-162">__Ügyfél-hitelesítő adatok__</span><span class="sxs-lookup"><span data-stu-id="ab7d3-162">__Client credentials__</span></span> | `AZURE_TENANT_ID` | <span data-ttu-id="ab7d3-163">Annak az Active Directory-bérlőnek az azonosítója, amelyhez a szolgáltatásnév tartozik.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-163">The ID for the Active Directory tenant that the service principal belongs to.</span></span> |
| | `AZURE_CLIENT_ID` | <span data-ttu-id="ab7d3-164">A szolgáltatásnév neve vagy azonosítója.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-164">The name or ID of the service principal.</span></span> |
| | `AZURE_CLIENT_SECRET` | <span data-ttu-id="ab7d3-165">A szolgáltatásnévhez társított titkos kulcs.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-165">The secret associated with the service principal.</span></span> |
| <span data-ttu-id="ab7d3-166">__Tanúsítvány__</span><span class="sxs-lookup"><span data-stu-id="ab7d3-166">__Certificate__</span></span> | `AZURE_TENANT_ID` | <span data-ttu-id="ab7d3-167">Annak az Active Directory-bérlőnek az azonosítója, amellyel a tanúsítványt regisztrálták.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-167">The ID for the Active Directory tenant that the certificate is registered with.</span></span> |
| | `AZURE_CLIENT_ID` | <span data-ttu-id="ab7d3-168">A tanúsítványhoz társított alkalmazásügyfél-azonosító.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-168">The application client ID associated with the certificate.</span></span> |
| | `AZURE_CERTIFICATE_PATH` | <span data-ttu-id="ab7d3-169">Az ügyféltanúsítvány-fájl elérési útja.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-169">The path to the client certificate file.</span></span> |
| | `AZURE_CERTIFICATE_PASSWORD` | <span data-ttu-id="ab7d3-170">Az ügyféltanúsítvány jelszava.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-170">The password for the client certificate.</span></span> |
| <span data-ttu-id="ab7d3-171">__Felhasználónév/jelszó__</span><span class="sxs-lookup"><span data-stu-id="ab7d3-171">__Username/Password__</span></span> | `AZURE_TENANT_ID` | <span data-ttu-id="ab7d3-172">Annak az Active Directory-bérlőnek az azonosítója, amelyhez a felhasználó tartozik.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-172">The ID for the Active Directory tenant that the user belongs to.</span></span> |
| | `AZURE_CLIENT_ID` | <span data-ttu-id="ab7d3-173">Az alkalmazás ügyfél-azonosítója.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-173">The application client ID.</span></span> |
| | `AZURE_USERNAME` | <span data-ttu-id="ab7d3-174">A bejelentkezéshez használt felhasználónév.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-174">The username to sign in with.</span></span> |
| | `AZURE_PASSWORD` | <span data-ttu-id="ab7d3-175">A bejelentkezéshez használt jelszó.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-175">The password to sign in with.</span></span> |
| <span data-ttu-id="ab7d3-176">__Kezelt identitás__</span><span class="sxs-lookup"><span data-stu-id="ab7d3-176">__Managed identity__</span></span> | | <span data-ttu-id="ab7d3-177">A felügyeltidentitás-hitelesítéshez nincs szükség hitelesítő adatokra.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-177">No credentials are needed for managed identity authentication.</span></span> <span data-ttu-id="ab7d3-178">Az alkalmazásnak egy, a felügyelt identitások használatára konfigurált Azure-erőforráson kell futnia.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-178">The application must be running on an Azure resource configured to use managed identities.</span></span> <span data-ttu-id="ab7d3-179">További részletekért lásd [Azure-erőforrások felügyelt identitásai].</span><span class="sxs-lookup"><span data-stu-id="ab7d3-179">For details, see [Managed identities for Azure resources].</span></span> |

<span data-ttu-id="ab7d3-180">Az alábbi környezeti változók beállításával olyan felhőhöz vagy felügyeleti végponthoz csatlakozhat, amely nem az alapértelmezett Azure-beli nyilvános felhő.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-180">To connect to a cloud or management endpoint other than the default Azure public cloud, set the following environment variables.</span></span> <span data-ttu-id="ab7d3-181">A változók beállításának leggyakoribb oka az Azure Stack, egy másik földrajzi régióban lévő felhő vagy a klasszikus üzemi modell használata.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-181">The most common reasons are if you use Azure Stack, a cloud in a different geographic region, or the classic deployment model.</span></span>

| <span data-ttu-id="ab7d3-182">Környezeti változó</span><span class="sxs-lookup"><span data-stu-id="ab7d3-182">Environment variable</span></span> | <span data-ttu-id="ab7d3-183">Leírás</span><span class="sxs-lookup"><span data-stu-id="ab7d3-183">Description</span></span>  |
|----------------------|--------------|
| `AZURE_ENVIRONMENT` | <span data-ttu-id="ab7d3-184">Azon felhőkörnyezet neve, amelyhez a rendszer csatlakozik.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-184">The name of the cloud environment to connect to.</span></span> |
| `AZURE_AD_RESOURCE` | <span data-ttu-id="ab7d3-185">A csatlakozáshoz használandó Active Directory erőforrás-azonosító használandó, amely URI-ként mutat a felügyeleti végpontra.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-185">The Active Directory resource ID to use when connecting, as a URI to your management endpoint.</span></span> |

<span data-ttu-id="ab7d3-186">A környezetalapú hitelesítés használatakor hívja meg a [NewAuthorizerFromEnvironment](https://godoc.org/github.com/Azure/go-autorest/autorest/azure/auth#NewAuthorizerFromEnvironment) függvényt a hitelesítő objektum beszerzéséhez.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-186">When using environment-based authentication, call the [NewAuthorizerFromEnvironment](https://godoc.org/github.com/Azure/go-autorest/autorest/azure/auth#NewAuthorizerFromEnvironment) function to get your authorizer object.</span></span> <span data-ttu-id="ab7d3-187">A rendszer ezt az objektumot fogja beállítani az ügyfelek `Authorizer` tulajdonságánál, hogy engedélyezze számukra az Azure-hoz való hozzáférést.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-187">This object is then set on the `Authorizer` property of clients to allow them access to Azure.</span></span>

```go
import "github.com/Azure/go-autorest/autorest/azure/auth"
authorizer, err := auth.NewAuthorizerFromEnvironment()
```

### <a name="authentication-on-azure-stack"></a><span data-ttu-id="ab7d3-188">Hitelesítés az Azure Stackben</span><span class="sxs-lookup"><span data-stu-id="ab7d3-188">Authentication on Azure Stack</span></span>

<span data-ttu-id="ab7d3-189">Az Azure Stackben való hitelesítéshez be kell állítania a következő változókat:</span><span class="sxs-lookup"><span data-stu-id="ab7d3-189">To authenticate on Azure Stack, you need to set the following variables:</span></span>

| <span data-ttu-id="ab7d3-190">Környezeti változó</span><span class="sxs-lookup"><span data-stu-id="ab7d3-190">Environment variable</span></span> | <span data-ttu-id="ab7d3-191">Leírás</span><span class="sxs-lookup"><span data-stu-id="ab7d3-191">Description</span></span>  |
|----------------------|--------------|
| `AZURE_AD_ENDPOINT` | <span data-ttu-id="ab7d3-192">Az Active Directory-végpont.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-192">The Active Directory endpoint.</span></span> |
| `AZURE_AD_RESOURCE` | <span data-ttu-id="ab7d3-193">Az Active Directory erőforrás-azonosító.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-193">The Active Directory resource ID.</span></span> |

<span data-ttu-id="ab7d3-194">Ezek a változók az Azure Stack metaadat-információiból kérhetők le.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-194">These variables can be retrieved from Azure Stack metadata information.</span></span> <span data-ttu-id="ab7d3-195">A metaadatok lekéréséhez nyisson meg egy webböngészőt az Azure Stack-környezetben, majd használja a következő URL-címet`(ResourceManagerURL)/metadata/endpoints?api-version=1.0`</span><span class="sxs-lookup"><span data-stu-id="ab7d3-195">To retrieve the metadata, open a web browser in your Azure Stack environment and use the url: `(ResourceManagerURL)/metadata/endpoints?api-version=1.0`</span></span>

<span data-ttu-id="ab7d3-196">A(z) `ResourceManagerURL` a régió neve, a gép neve és az Azure Stack üzemelő példányának külső teljes tartományneve (FQDN) alapján eltérő lehet:</span><span class="sxs-lookup"><span data-stu-id="ab7d3-196">The `ResourceManagerURL` varies based on the region name, machine name, and external fully qualified domain name (FQDN) of your Azure Stack deployment:</span></span>

| <span data-ttu-id="ab7d3-197">Környezet</span><span class="sxs-lookup"><span data-stu-id="ab7d3-197">Environment</span></span> | <span data-ttu-id="ab7d3-198">ResourceManagerURL</span><span class="sxs-lookup"><span data-stu-id="ab7d3-198">ResourceManagerURL</span></span> |
|----------------------|--------------|
| <span data-ttu-id="ab7d3-199">Fejlesztői készlet</span><span class="sxs-lookup"><span data-stu-id="ab7d3-199">Development Kit</span></span> | `https://management.local.azurestack.external/` |
| <span data-ttu-id="ab7d3-200">Integrált rendszerek</span><span class="sxs-lookup"><span data-stu-id="ab7d3-200">Integrated Systems</span></span> | `https://management.(region).ext-(machine-name).(FQDN)` |

<span data-ttu-id="ab7d3-201">A Góhoz készült Azure SDK az Azure Stackben való használatáról az [API-verzióprofiloknak a Góval az Azure Stackben történő használatát](https://docs.microsoft.com/azure/azure-stack/user/azure-stack-version-profiles-go) bemutató témakörben tájékozódhat.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-201">For more information on how to use the Azure SDK for Go on Azure Stack, see [Use API version profiles with Go in Azure Stack](https://docs.microsoft.com/azure/azure-stack/user/azure-stack-version-profiles-go)</span></span>

## <a name="use-file-based-authentication"></a><span data-ttu-id="ab7d3-202">A fájlalapú hitelesítés használata</span><span class="sxs-lookup"><span data-stu-id="ab7d3-202">Use file-based authentication</span></span>

<span data-ttu-id="ab7d3-203">A fájlalapú hitelesítés egy, [az Azure CLI](/cli/azure) által létrehozott fájlformátumot használ.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-203">File-based authentication uses a file format generated by [the Azure CLI](/cli/azure).</span></span> <span data-ttu-id="ab7d3-204">Ezt a fájlt könnyedén létrehozhatja, amikor új szolgáltatásnevet hoz létre az `--sdk-auth` paraméterrel.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-204">You can easily create this file when creating a new service principal with the `--sdk-auth` parameter.</span></span> <span data-ttu-id="ab7d3-205">Ha fájlalapú hitelesítést szeretne használni, ügyeljen arra, hogy a szolgáltatásnév létrehozásakor megadja ezt az argumentumot.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-205">If you plan on using file-based authentication, make sure that this argument is provided when creating a service principal.</span></span> <span data-ttu-id="ab7d3-206">Mivel a CLI az `stdout` kimeneten nyomtatja a kimenetet, irányítsa át a kimenetet egy fájlba.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-206">Since the CLI prints output to `stdout`, redirect output to a file.</span></span>

```azurecli
az ad sp create-for-rbac --sdk-auth > azure.auth
```

<span data-ttu-id="ab7d3-207">Az `AZURE_AUTH_LOCATION` környezeti változónál állítsa be a hitelesítési fájl helyét.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-207">Set the `AZURE_AUTH_LOCATION` environment variable to where the authorization file is located.</span></span> <span data-ttu-id="ab7d3-208">Az alkalmazás beolvassa ezt a környezeti változót, és elemzi a benne található hitelesítő adatokat.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-208">This environment variable is read by the application, and the credentials within it are parsed.</span></span> <span data-ttu-id="ab7d3-209">Ha futásidőben kell kiválasztania a hitelesítési fájlt, a program környezetét az [os.Setenv](https://golang.org/pkg/os/#Setenv) függvénnyel kezelheti.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-209">If you need to select the authorization file at runtime, manipulate the program's environment using the [os.Setenv](https://golang.org/pkg/os/#Setenv) function.</span></span>

<span data-ttu-id="ab7d3-210">A hitelesítési adatok betöltéséhez hívja meg a [NewAuthorizerFromFile](https://godoc.org/github.com/Azure/go-autorest/autorest/azure/auth#NewAuthorizerFromFile) függvényt.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-210">To load the authentication information, call the [NewAuthorizerFromFile](https://godoc.org/github.com/Azure/go-autorest/autorest/azure/auth#NewAuthorizerFromFile) function.</span></span> <span data-ttu-id="ab7d3-211">A környezetalapú hitelesítéssel ellentétben a fájlalapú hitelesítésnél szükség van egy erőforrásvégpontra.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-211">Unlike environment-based authorization, file-based authorization requires a resource endpoint.</span></span>

```go
import "github.com/Azure/go-autorest/autorest/azure/auth"
authorizer, err := NewAuthorizerFromFile(azure.PublicCloud.ResourceManagerEndpoint)
```

<span data-ttu-id="ab7d3-212">A szolgáltatásnevek használatával és a hozzáférési engedélyeik kezelésével kapcsolatos további információkért lásd: [Szolgáltatásnév létrehozása az Azure CLI-vel].</span><span class="sxs-lookup"><span data-stu-id="ab7d3-212">For more on using service principals and managing their access permissions, see [Create a service principal with Azure CLI].</span></span>

## <a name="use-device-token-authentication"></a><span data-ttu-id="ab7d3-213">Az eszközjogkivonattal történő hitelesítés használata</span><span class="sxs-lookup"><span data-stu-id="ab7d3-213">Use device token authentication</span></span>

<span data-ttu-id="ab7d3-214">Ha azt szeretné, hogy a felhasználók interaktívan jelentkezzenek be, a legjobb megoldás az eszközjogkivonattal történő hitelesítés használata.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-214">If you want users to sign in interactively, the best way is through device token authentication.</span></span> <span data-ttu-id="ab7d3-215">Ez a hitelesítési folyamat átad egy jogkivonatot a felhasználónak, amelyet azon a Microsoft bejelentkezési webhelyen kell beillesztenie, ahol ezután egy Azure Active Directory- (AAD-) fiókkal kell hitelesítést végeznie.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-215">This authentication flow passes the user a token to paste into a Microsoft sign-in site, where they then authenticate with an Azure Active Directory (AAD) account.</span></span> <span data-ttu-id="ab7d3-216">Ez a hitelesítési módszer a szabványos felhasználónév- és jelszóalapú hitelesítéssel ellentétben támogatja a többtényezős hitelesítést engedélyező fiókokat.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-216">This authentication method supports accounts that have multi-factor authentication enabled, unlike standard username/password authentication.</span></span>

<span data-ttu-id="ab7d3-217">Az eszközjogkivonattal történő hitelesítés használatához hozzon létre egy [DeviceFlowConfig](https://godoc.org/github.com/Azure/go-autorest/autorest/azure/auth#DeviceFlowConfig) hitelesítőt a [NewDeviceFlowConfig](https://godoc.org/github.com/Azure/go-autorest/autorest/azure/auth#NewDeviceFlowConfig) függvénnyel.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-217">To use device token authentication, create a [DeviceFlowConfig](https://godoc.org/github.com/Azure/go-autorest/autorest/azure/auth#DeviceFlowConfig) authorizer with the [NewDeviceFlowConfig](https://godoc.org/github.com/Azure/go-autorest/autorest/azure/auth#NewDeviceFlowConfig) function.</span></span> <span data-ttu-id="ab7d3-218">A hitelesítési folyamat elindításához hívja meg az [Authorizer](https://godoc.org/github.com/Azure/go-autorest/autorest/azure/auth#DeviceFlowConfig.Authorizer) függvényt az eredményül kapott objektumhoz.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-218">Call [Authorizer](https://godoc.org/github.com/Azure/go-autorest/autorest/azure/auth#DeviceFlowConfig.Authorizer) on the resulting object to start the authentication process.</span></span> <span data-ttu-id="ab7d3-219">Az eszközfolyamat-hitelesítés letiltja a programok végrehajtását, amíg a teljes hitelesítési folyamat be nem fejeződik.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-219">Device flow authentication blocks program execution until the whole authentication flow is complete.</span></span>

```go
import "github.com/Azure/go-autorest/autorest/azure/auth"
deviceConfig := auth.NewDeviceFlowConfig(applicationID, tenantID)
authorizer, err := deviceConfig.Authorizer()
```

## <a name="use-an-authentication-client"></a><span data-ttu-id="ab7d3-220">Hitelesítési ügyfél használata</span><span class="sxs-lookup"><span data-stu-id="ab7d3-220">Use an authentication client</span></span>

<span data-ttu-id="ab7d3-221">Ha egy bizonyos típusú hitelesítésre van szüksége, és nem ellenzi azt, hogy a program tölti be a felhasználó hitelesítési adatait, akkor bármely ügyfelet használhatja, amely megfelel az [auth.AuthorizerConfig](https://godoc.org/github.com/Azure/go-autorest/autorest/azure/auth#AuthorizerConfig) felületnek.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-221">If you require a specific type of authentication and are willing to have your program do the work to load authentication information from the user, you can use any client that conforms to the [auth.AuthorizerConfig](https://godoc.org/github.com/Azure/go-autorest/autorest/azure/auth#AuthorizerConfig) interface.</span></span> <span data-ttu-id="ab7d3-222">Olyan típust használjon, amely ezt a felületet valósítja meg a következő esetekben:</span><span class="sxs-lookup"><span data-stu-id="ab7d3-222">Use a type that implements this interface when you:</span></span>

* <span data-ttu-id="ab7d3-223">Interaktív program írása</span><span class="sxs-lookup"><span data-stu-id="ab7d3-223">Write an interactive program</span></span>
* <span data-ttu-id="ab7d3-224">Speciális konfigurációs fájlok használata</span><span class="sxs-lookup"><span data-stu-id="ab7d3-224">Use specialized configuration files</span></span>
* <span data-ttu-id="ab7d3-225">Olyan követelmény alkalmazása, amely megakadályozza a beépített hitelesítési módszerek használatát</span><span class="sxs-lookup"><span data-stu-id="ab7d3-225">Have a requirement that prevents using a built-in authentication method</span></span>

> [!WARNING]
> <span data-ttu-id="ab7d3-226">Az Azure-beli hitelesítő adatokat soha ne rögzítse szoftveresen egy alkalmazásba.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-226">Never hard-code Azure credentials into an application.</span></span> <span data-ttu-id="ab7d3-227">Ha egy bináris alkalmazásfájlba helyezi a titkos kulcsokat, a támadók egyszerűbben ki tudják nyerni azokat, függetlenül attól, hogy éppen fut-e az alkalmazás.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-227">Putting secrets into an application binary makes it easier for an attacker to extract them, whether the application is running or not.</span></span> <span data-ttu-id="ab7d3-228">Ezzel veszélynek teszi ki az összes Azure-erőforrást, amelyhez a hitelesítő adatok engedélyezve vannak!</span><span class="sxs-lookup"><span data-stu-id="ab7d3-228">This puts all Azure resources the credentials are authorized for at risk!</span></span>

<span data-ttu-id="ab7d3-229">Az alábbi táblázat felsorolja azokat az SDK-ban elérhető típusokat, amelyek megfelelnek az `AuthorizerConfig` felületnek.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-229">The following table lists the types in the SDK that conform to the `AuthorizerConfig` interface.</span></span>

| <span data-ttu-id="ab7d3-230">Hitelesítés típusa</span><span class="sxs-lookup"><span data-stu-id="ab7d3-230">Authentication type</span></span> | <span data-ttu-id="ab7d3-231">Hitelesítő típusa</span><span class="sxs-lookup"><span data-stu-id="ab7d3-231">Authorizer type</span></span> |
|---------------------|-----------------------|
| <span data-ttu-id="ab7d3-232">Tanúsítványalapú hitelesítés</span><span class="sxs-lookup"><span data-stu-id="ab7d3-232">Certificate-based authentication</span></span> | <span data-ttu-id="ab7d3-233">[ClientCertificateConfig]</span><span class="sxs-lookup"><span data-stu-id="ab7d3-233">[ClientCertificateConfig]</span></span> |
| <span data-ttu-id="ab7d3-234">Ügyfél-hitelesítő adatok</span><span class="sxs-lookup"><span data-stu-id="ab7d3-234">Client credentials</span></span> | <span data-ttu-id="ab7d3-235">[ClientCredentialsConfig]</span><span class="sxs-lookup"><span data-stu-id="ab7d3-235">[ClientCredentialsConfig]</span></span> |
| <span data-ttu-id="ab7d3-236">Azure-erőforrások felügyelt identitásai</span><span class="sxs-lookup"><span data-stu-id="ab7d3-236">Managed identities for Azure resources</span></span> | <span data-ttu-id="ab7d3-237">[MSIConfig]</span><span class="sxs-lookup"><span data-stu-id="ab7d3-237">[MSIConfig]</span></span> |
| <span data-ttu-id="ab7d3-238">Felhasználónév/jelszó</span><span class="sxs-lookup"><span data-stu-id="ab7d3-238">Username/password</span></span> | <span data-ttu-id="ab7d3-239">[UsernamePasswordConfig]</span><span class="sxs-lookup"><span data-stu-id="ab7d3-239">[UsernamePasswordConfig]</span></span> |

[ClientCertificateConfig]: https://godoc.org/github.com/Azure/go-autorest/autorest/azure/auth#ClientCertificateConfig
[ClientCredentialsConfig]: https://godoc.org/github.com/Azure/go-autorest/autorest/azure/auth#ClientCredentialsConfig
[MSIConfig]: https://godoc.org/github.com/Azure/go-autorest/autorest/azure/auth#MSIConfig
[DeviceFlowConfig]: https://godoc.org/github.com/Azure/go-autorest/autorest/azure/auth#DeviceFlowConfig
[UsernamePasswordConfig]: https://godoc.org/github.com/Azure/go-autorest/autorest/azure/auth#UsernamePasswordConfig

<span data-ttu-id="ab7d3-244">Hozzon létre egy hitelesítőt a kapcsolódó `New` függvénnyel, majd a hitelesítéshez hívja meg az `Authorize` függvényt az eredményül kapott objektumhoz.</span><span class="sxs-lookup"><span data-stu-id="ab7d3-244">Create an authenticator with its associated `New` function, and then call `Authorize` on the resulting object to authenticate.</span></span> <span data-ttu-id="ab7d3-245">Például tanúsítványalapú hitelesítés használata esetén:</span><span class="sxs-lookup"><span data-stu-id="ab7d3-245">For example, to use certificate-based authentication:</span></span>

```go
import "github.com/Azure/go-autorest/autorest/azure/auth"
certificateAuthorizer := auth.NewClientCertificateConfig(certificatePath, certificatePassword, clientID, tenantID)
authorizerToken, err := certificateAuthorizer.Authorize()
```
